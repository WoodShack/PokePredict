(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5513,e=>{e.v({card:"pokemon-module__bJXy2W__card",image:"pokemon-module__bJXy2W__image",meta:"pokemon-module__bJXy2W__meta",name:"pokemon-module__bJXy2W__name",placeholder:"pokemon-module__bJXy2W__placeholder",stats:"pokemon-module__bJXy2W__stats"})},5916,e=>{"use strict";var t=e.i(1398),a=e.i(9711),l=e.i(1788),r=e.i(5513);function o({pokemon:e,onSelect:a}){let l=e.sprites?.front_default??"",o=e.name?e.name.replace(/-/g," "):"Unknown";return(0,t.jsxs)("div",{className:r.default.card,children:[l?(0,t.jsx)("img",{src:l,alt:o,className:r.default.image}):(0,t.jsx)("div",{className:r.default.placeholder,children:"No image"}),(0,t.jsx)("h3",{className:r.default.name,children:o}),(0,t.jsx)("button",{type:"button",onClick:()=>a(e.id),className:" relative  px-5 py-2  font-bold  text-black  bg-yellow-300  border-2 border-black  shadow-[3px_3px_0_#000] transition active:scale-95 hover:bg-yellow-400 rounded-lg",children:"Select"})]})}let s=[];async function n(){if(s.length>0)return s;let e=await fetch("https://pokeapi.co/api/v2/pokemon?limit=2000");return s=(await e.json()).results}async function c(){await n();let e=Math.floor(Math.random()*s.length);return s[e].url}async function i(e){console.log(e);let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch Pok\xe9mon ${e}: ${t.status}`);let a=await t.json(),l={};if(Array.isArray(a.stats))for(let e of a.stats)e?.stat?.name&&"number"==typeof e.base_stat&&(l[e.stat.name]=e.base_stat);return{id:a.id,name:a.name,height:"number"==typeof a.height?a.height:0,weight:"number"==typeof a.weight?a.weight:0,attack:l.attack??0,defense:l.defense??0,hp:l.hp??0,sprites:a.sprites,...a}}async function d(){let e=null,t=null;for(;null===e;)try{let t=await c(),a=await i(t);a.sprites?.front_default!=null&&(e=a)}catch(e){console.log("Error fetching pokemon 1, retrying...")}for(;null===t;){let a=await c();for(;a==="https://pokeapi.co/api/v2/pokemon/"+e.id+"/";)a=await c();try{let e=await i(a);e.sprites?.front_default!=null&&(t=e)}catch(e){console.log("Error fetching pokemon 2, retrying...")}}return[e,t]}var h=e.i(8285),m=e.i(6019),u=e.i(3828);function x({lives:e,totalLives:a=5}){let{basePath:l}=(0,u.useRouter)();return(0,t.jsx)("div",{className:"flex gap-1 justify-center mb-2",children:Array.from({length:a}).map((a,r)=>(0,t.jsx)(m.default,{src:r<e?`${l}/heart-pixel-full.png`:`${l}/heart-pixel-empty.png`,alt:"",width:25,height:25,className:"w-6 h-6 image-rendering-pixelated"},r))})}function b(){let[e,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{a((0,h.getHighScores)())},[]),(0,t.jsx)("div",{className:"mt-4 mx-auto max-w-2xl",children:(0,t.jsxs)("div",{className:" bg-yellow-100 border-4 border-black rounded-xl p-3 text-black ",children:[(0,t.jsx)("h2",{className:"text-center font-black text-lg mb-2 tracking-wide text-black",children:"HIGH SCORES"}),0===e.length?(0,t.jsx)("p",{className:"text-center font-bold text-gray-800",children:"No high scores yet"}):(0,t.jsxs)("table",{className:"w-full border-collapse font-bold text-sm text-black",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-yellow-300 border-2 border-black",children:[(0,t.jsx)("th",{className:"p-1 border-2 border-black text-left",children:"PLAYER"}),(0,t.jsx)("th",{className:"p-1 border-2 border-black text-center",children:"SCORE"}),(0,t.jsx)("th",{className:"p-1 border-2 border-black text-right",children:"DATE"})]})}),(0,t.jsx)("tbody",{children:e.map((e,a)=>(0,t.jsxs)("tr",{className:"odd:bg-white even:bg-yellow-200 border-2 border-black text-black",children:[(0,t.jsx)("td",{className:"p-1 border-2 border-black text-left",children:e.name}),(0,t.jsx)("td",{className:"p-1 border-2 border-black text-center",children:e.score}),(0,t.jsx)("td",{className:"p-1 border-2 border-black text-right",children:e.date})]},a))})]})]})})}function f({score:e,onRestart:a}){return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-yellow-500 border-4 border-black rounded-3xl p-8 text-center max-w-lg w-full shadow-2xl",children:[(0,t.jsx)("h2",{className:"text-5xl font-extrabold text-red-600 mb-6 drop-shadow-[2px_2px_0px_black] tracking-wide",children:"GAME OVER!"}),(0,t.jsx)("div",{className:"w-24 h-1 bg-black mx-auto mb-6 rounded-full"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(b,{})}),(0,t.jsx)("button",{onClick:a,className:"px-7 py-3 bg-red-500 border-2 border-black rounded-xl  font-bold text-black text-lg hover:bg-red-600 active:scale-95 active:shadow-none transition-all",children:"Restart Game"})]})})}let p="undefined"!=typeof Audio?new Audio("/sounds/correct.mp3.wav"):null,g="undefined"!=typeof Audio?new Audio("/sounds/wrong.mp3.wav"):null,w="undefined"!=typeof Audio?new Audio("/sounds/gameover.mp3.wav"):null,k=[{text:"Which Pokémon is taller?",attribute:"height"},{text:"Which Pokémon weighs more?",attribute:"weight"},{text:"Which Pokémon has higher attack power?",attribute:"attack"},{text:"Which Pokémon has higher defense?",attribute:"defense"},{text:"Which Pokémon has more health?",attribute:"hp"}];function j(){let[e,a]=(0,l.useState)([null,null]),[r,s]=(0,l.useState)(!1),[n,c]=(0,l.useState)(null),[i,m]=(0,l.useState)(k[0]),[u,j]=(0,l.useState)(null),[y,_]=(0,l.useState)(5),[N,v]=(0,l.useState)(0),[S,E]=(0,l.useState)(!1);function P(t){let[a,l]=e;if(!a||!l||0===y)return;let r=a.id===t?a:l.id===t?l:null,o=r===a?l:a;if(!r||!o)return;let s=i.attribute,n=r[s]??0,c=o[s]??0;n>c?(p?.play(),v(e=>e+1),alert(`Correct! ${r.name} has ${s} of ${n}, while ${o.name} has ${s} of ${c}.`)):(g?.play(),_(e=>Math.max(e-1,0)),alert(`Wrong! ${r.name} has ${s} of ${n}, while ${o.name} has ${s} of ${c}.`)),$()}async function $(){if(0!==y){s(!0),c(null);try{let[e,t]=await d();a([e,t]);let l=Math.floor(Math.random()*k.length);m(k[l])}catch(e){c(e?.message??"Failed to load Pokémon"),a([null,null])}finally{s(!1)}}}return(0,l.useEffect)(()=>{$();let e=(0,h.getCharacter)();e&&j(e)},[]),(0,l.useEffect)(()=>{0===y&&u&&!S&&(w?.play(),(0,h.addHighScore)(u,N),E(!0))},[y,u,N,S]),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-yellow-100 to-yellow-200 p-6",children:[(0,t.jsx)("h1",{className:"text-4xl text-center mb-4 font-extrabold text-red-600",children:"Pokemon Encounter"}),u&&(0,t.jsx)("div",{className:"flex justify-center mt-4 mb-6",children:(0,t.jsxs)("div",{className:" bg-white border-4 border-black rounded-xl px-6 py-4 flex flex-col items-center gap-3 ",children:[(0,t.jsx)(x,{lives:y}),(0,t.jsxs)("div",{className:"text-sm text-black font-bold bg-yellow-200 border-2 border-black px-4 py-1 rounded",children:["SCORE: ",N]}),(0,t.jsx)("img",{src:function(e){switch(e){case 1:return"/avatar1.png";case 2:return"/avatar2.png";case 3:return"/avatar3.png"}}(u.imageId),alt:"Player Avatar",className:"w-20 h-20 border-4 border-black bg-white rounded-md"})]})}),n&&(0,t.jsx)("div",{className:"max-w-lg mx-auto mb-8 p-4 bg-red-300 border-2 border-black rounded-xl text-black font-bold shadow-[4px_4px_0_#000] text-center",children:n}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-15 max-w-5xl mx-auto",children:e.map((e,a)=>e?(0,t.jsx)(o,{pokemon:e,onSelect:P},e.id):(0,t.jsx)("div",{className:"flex items-center justify-center h-40 bg-white border-4 border-black rounded-2xl shadow-[6px_6px_0_#000] font-bold text-lg text-gray-700",children:r?"Loading…":"No Pokémon"},a))}),(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 shadow-md bg-white mt-6 mx-auto max-w-md w-full",children:(0,t.jsx)("h2",{className:"text-lg font-bold text-black text-center",children:i.text})}),(0,t.jsx)(b,{}),0===y&&(0,t.jsx)(f,{score:N,onRestart:()=>{_(5),v(0),E(!1),$()}})]})}function y(){let[e,r]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=(0,h.getCharacter)();e&&r(e)},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.default,{}),(0,t.jsx)(j,{})]})}e.s(["default",()=>y],5916)},4051,(e,t,a)=>{let l="/encounter";(window.__NEXT_P=window.__NEXT_P||[]).push([l,()=>e.r(5916)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([l])})},8761,e=>{e.v(t=>Promise.all(["static/chunks/4f8470767bf4a97b.js"].map(t=>e.l(t))).then(()=>t(3594)))},8805,e=>{e.v(t=>Promise.all(["static/chunks/5ec9ab7aae3f3e76.js"].map(t=>e.l(t))).then(()=>t(9466)))}]);