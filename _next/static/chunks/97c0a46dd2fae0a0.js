(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5513,e=>{e.v({card:"pokemon-module__bJXy2W__card",image:"pokemon-module__bJXy2W__image",meta:"pokemon-module__bJXy2W__meta",name:"pokemon-module__bJXy2W__name",placeholder:"pokemon-module__bJXy2W__placeholder",stats:"pokemon-module__bJXy2W__stats"})},5916,e=>{"use strict";var t=e.i(1398),a=e.i(9711),r=e.i(1788),l=e.i(5513);function s({pokemon:e,onSelect:a}){let r=e.sprites?.front_default??"",s=e.name?e.name.replace(/-/g," "):"Unknown";return(0,t.jsxs)("div",{className:l.default.card,children:[r?(0,t.jsx)("img",{src:r,alt:s,className:l.default.image}):(0,t.jsx)("div",{className:l.default.placeholder,children:"No image"}),(0,t.jsx)("h3",{className:l.default.name,children:s}),(0,t.jsx)("button",{type:"button",onClick:()=>a(e.id),className:" relative  px-5 py-2  font-bold  text-black  bg-yellow-300  border-2 border-black  shadow-[3px_3px_0_#000] transition active:scale-95 hover:bg-yellow-400 rounded-lg",children:"Select"})]})}let o=[];async function n(){if(o.length>0)return o;let e=await fetch("https://pokeapi.co/api/v2/pokemon?limit=2000");return o=(await e.json()).results}async function i(){await n();let e=Math.floor(Math.random()*o.length);return o[e].url}async function d(e){console.log(e);let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch Pok\xe9mon ${e}: ${t.status}`);let a=await t.json(),r={};if(Array.isArray(a.stats))for(let e of a.stats)e?.stat?.name&&"number"==typeof e.base_stat&&(r[e.stat.name]=e.base_stat);return{id:a.id,name:a.name,height:"number"==typeof a.height?a.height:0,weight:"number"==typeof a.weight?a.weight:0,attack:r.attack??0,defense:r.defense??0,hp:r.hp??0,sprites:a.sprites,...a}}async function c(){let e=null,t=null;for(;null===e;)try{let t=await i(),a=await d(t);a.sprites?.front_default!=null&&(e=a)}catch(e){console.log("Error fetching pokemon 1, retrying...")}for(;null===t;){let a=await i();for(;a==="https://pokeapi.co/api/v2/pokemon/"+e.id+"/";)a=await i();try{let e=await d(a);e.sprites?.front_default!=null&&(t=e)}catch(e){console.log("Error fetching pokemon 2, retrying...")}}return[e,t]}var h=e.i(8285),u=e.i(3828),m=e.i(6019);function x({lives:e,totalLives:a=5}){let{basePath:r}=(0,u.useRouter)();return(0,t.jsx)("div",{className:"flex gap-1 justify-center mb-2",children:Array.from({length:a}).map((a,l)=>(0,t.jsx)(m.default,{src:l<e?`${r}/heart-pixel-full.png`:`${r}/heart-pixel-empty.png`,alt:"",width:25,height:25,className:"w-6 h-6 image-rendering-pixelated"},l))})}function b({reloadTrigger:e}){let[a,l]=(0,r.useState)([]),s=(0,r.useCallback)(()=>{l((0,h.getHighScores)())},[]);return(0,r.useEffect)(()=>{function e(e){e.key&&"pokepredict_highscores"!==e.key||s()}return s(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[s]),(0,r.useEffect)(()=>{void 0!==e&&s()},[e,s]),(0,t.jsx)("div",{className:"mt-4 mx-auto max-w-2xl",children:(0,t.jsxs)("div",{className:"bg-yellow-100 border-4 border-black rounded-xl p-3 text-black",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("h2",{className:"text-center font-black text-lg tracking-wide text-black",children:"HIGH SCORES"})}),0===a.length?(0,t.jsx)("p",{className:"text-center font-bold text-gray-800",children:"No high scores yet"}):(0,t.jsxs)("table",{className:"w-full border-collapse font-bold text-sm text-black",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-yellow-300 border-2 border-black",children:[(0,t.jsx)("th",{className:"p-1 border-2 border-black text-left",children:"PLAYER"}),(0,t.jsx)("th",{className:"p-1 border-2 border-black text-center",children:"SCORE"}),(0,t.jsx)("th",{className:"p-1 border-2 border-black text-right",children:"DATE"})]})}),(0,t.jsx)("tbody",{children:a.map((e,a)=>(0,t.jsxs)("tr",{className:"odd:bg-white even:bg-yellow-200 border-2 border-black text-black",children:[(0,t.jsx)("td",{className:"p-1 border-2 border-black text-left",children:e.name}),(0,t.jsx)("td",{className:"p-1 border-2 border-black text-center",children:e.score}),(0,t.jsx)("td",{className:"p-1 border-2 border-black text-right",children:e.date})]},a))})]})]})})}function f({reloadTrigger:e,score:a,onRestart:r}){return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-yellow-500 border-4 border-black rounded-3xl p-8 text-center max-w-lg w-full shadow-2xl",children:[(0,t.jsx)("h2",{className:"text-5xl font-extrabold text-red-600 mb-6 drop-shadow-[2px_2px_0px_black] tracking-wide",children:"GAME OVER!"}),(0,t.jsx)("div",{className:"w-24 h-1 bg-black mx-auto mb-6 rounded-full"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(b,{reloadTrigger:e})}),(0,t.jsx)("button",{onClick:r,className:"px-7 py-3 bg-red-500 border-2 border-black rounded-xl  font-bold text-black text-lg hover:bg-red-600 active:scale-95 active:shadow-none transition-all",children:"Restart Game"})]})})}let p=[{text:"Which Pokémon is taller?",attribute:"height"},{text:"Which Pokémon weighs more?",attribute:"weight"},{text:"Which Pokémon has higher attack power?",attribute:"attack"},{text:"Which Pokémon has higher defense?",attribute:"defense"},{text:"Which Pokémon has more health?",attribute:"hp"}];function g(){let[e,a]=(0,r.useState)([null,null]),[l,o]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[d,g]=(0,r.useState)(p[0]),[w,k]=(0,r.useState)(null),[y,j]=(0,r.useState)(5),[_,v]=(0,r.useState)(0),[N,$]=(0,r.useState)(!1),[E,S]=(0,r.useState)(0),{basePath:P}=(0,u.useRouter)(),A="undefined"!=typeof Audio?new Audio(`${P}/sounds/correct.mp3.wav`):null,W="undefined"!=typeof Audio?new Audio(`${P}/sounds/wrong.mp3.wav`):null,C="undefined"!=typeof Audio?new Audio(`${P}/sounds/gameover.mp3.wav`):null;function R(t){let[a,r]=e;if(!a||!r||0===y)return;let l=a.id===t?a:r.id===t?r:null,s=l===a?r:a;if(!l||!s)return;let o=d.attribute,n=l[o]??0,i=s[o]??0;n>i?(A?.play(),v(e=>e+1),alert(`Correct! ${l.name} has ${o} of ${n}, while ${s.name} has ${o} of ${i}.`)):(W?.play(),j(e=>Math.max(e-1,0)),alert(`Wrong! ${l.name} has ${o} of ${n}, while ${s.name} has ${o} of ${i}.`)),T()}async function T(){if(0!==y){o(!0),i(null);try{let[e,t]=await c();a([e,t]);let r=Math.floor(Math.random()*p.length);g(p[r])}catch(e){i(e?.message??"Failed to load Pokémon"),a([null,null])}finally{o(!1)}}}return(0,r.useEffect)(()=>{T();let e=(0,h.getCharacter)();e&&k(e)},[]),(0,r.useEffect)(()=>{0===y&&w&&!N&&(C?.play(),(0,h.addHighScore)(w,_),$(!0),S(e=>e+1))},[y,w,_,N]),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-yellow-100 to-yellow-200 p-6",children:[(0,t.jsx)("h1",{className:"text-4xl text-center mb-4 font-extrabold text-red-600",children:"Pokemon Encounter"}),w&&(0,t.jsx)("div",{className:"flex justify-center mt-4 mb-6",children:(0,t.jsxs)("div",{className:" bg-white border-4 border-black rounded-xl px-6 py-4 flex flex-col items-center gap-3 ",children:[(0,t.jsx)(x,{lives:y}),(0,t.jsxs)("div",{className:"text-sm text-black font-bold bg-yellow-200 border-2 border-black px-4 py-1 rounded",children:["SCORE: ",_]}),(0,t.jsx)(m.default,{src:function(e){switch(e){case 1:return`${P}/avatar1.png`;case 2:return`${P}/avatar2.png`;case 3:return`${P}/avatar3.png`}}(w.imageId),width:20,height:20,alt:"Player Avatar",className:"w-20 h-20 border-4 border-black bg-white rounded-md"})]})}),n&&(0,t.jsx)("div",{className:"max-w-lg mx-auto mb-8 p-4 bg-red-300 border-2 border-black rounded-xl text-black font-bold shadow-[4px_4px_0_#000] text-center",children:n}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-15 max-w-5xl mx-auto",children:e.map((e,a)=>e?(0,t.jsx)(s,{pokemon:e,onSelect:R},e.id):(0,t.jsx)("div",{className:"flex items-center justify-center h-40 bg-white border-4 border-black rounded-2xl shadow-[6px_6px_0_#000] font-bold text-lg text-gray-700",children:l?"Loading…":"No Pokémon"},a))}),(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 shadow-md bg-white mt-6 mx-auto max-w-md w-full",children:(0,t.jsx)("h2",{className:"text-lg font-bold text-black text-center",children:d.text})}),(0,t.jsx)(b,{reloadTrigger:E}),0===y&&(0,t.jsx)(f,{score:_,reloadTrigger:E,onRestart:()=>{j(5),v(0),$(!1),T()}})]})}function w(){let[e,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=(0,h.getCharacter)();e&&l(e)},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.default,{}),(0,t.jsx)(g,{})]})}e.s(["default",()=>w],5916)},4051,(e,t,a)=>{let r="/encounter";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(5916)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},8761,e=>{e.v(t=>Promise.all(["static/chunks/4f8470767bf4a97b.js"].map(t=>e.l(t))).then(()=>t(3594)))},8805,e=>{e.v(t=>Promise.all(["static/chunks/5ec9ab7aae3f3e76.js"].map(t=>e.l(t))).then(()=>t(9466)))}]);